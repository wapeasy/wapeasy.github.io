<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Shdydgdheudjd&#39;s Blog</title>
  
  <subtitle>一些零碎的知识点</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2020-08-16T14:52:49.616Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>shdydgdheudjd</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Mac下使用图形化工具进行单体测试(1.环境构建)</title>
    <link href="http://yoursite.com/:2020/08/05/Mac%E4%B8%8B%E4%BD%BF%E7%94%A8%E5%9B%BE%E5%BD%A2%E5%8C%96%E5%B7%A5%E5%85%B7%E8%BF%9B%E8%A1%8C%E5%8D%95%E4%BD%93%E6%B5%8B%E8%AF%95(1.%E7%8E%AF%E5%A2%83%E6%9E%84%E5%BB%BA)/"/>
    <id>http://yoursite.com/:2020/08/05/Mac%E4%B8%8B%E4%BD%BF%E7%94%A8%E5%9B%BE%E5%BD%A2%E5%8C%96%E5%B7%A5%E5%85%B7%E8%BF%9B%E8%A1%8C%E5%8D%95%E4%BD%93%E6%B5%8B%E8%AF%95(1.%E7%8E%AF%E5%A2%83%E6%9E%84%E5%BB%BA)/</id>
    <published>2020-08-05T15:36:14.000Z</published>
    <updated>2020-08-16T14:52:49.616Z</updated>
    
    <content type="html"><![CDATA[<h3 id="0x00-前言"><a href="#0x00-前言" class="headerlink" title="0x00 前言"></a>0x00 前言</h3><p>目的在Mac系统下使用图形工具进行C/C++函数的单元测试<br>工具：Google Test<br>GUI工具：Gtest Runner</p><a id="more"></a><h3 id="0x01-资料搜集"><a href="#0x01-资料搜集" class="headerlink" title="0x01 资料搜集"></a>0x01 资料搜集</h3><p><a href="https://github.com/google/googletest.git">Google Test GitHub</a>,通过readme可以看到Google推荐的几个GUI工具有：</p><img src="/:2020/08/05/Mac%E4%B8%8B%E4%BD%BF%E7%94%A8%E5%9B%BE%E5%BD%A2%E5%8C%96%E5%B7%A5%E5%85%B7%E8%BF%9B%E8%A1%8C%E5%8D%95%E4%BD%93%E6%B5%8B%E8%AF%95(1.%E7%8E%AF%E5%A2%83%E6%9E%84%E5%BB%BA)/Xnip2020-08-15_17-37-52.jpg" class=""><p>比较了这几个工具，感觉<a href="https://github.com/nholthaus/gtest-runner">Gtest Runner</a>最顺眼，所以就选它了。哈哈</p><p>进入<a href="https://github.com/nholthaus/gtest-runner">Gtest Runner</a>的<a href="https://github.com/nholthaus/gtest-runner/blob/master/BUILD.md">Build Instructions</a>页面:</p><img src="/:2020/08/05/Mac%E4%B8%8B%E4%BD%BF%E7%94%A8%E5%9B%BE%E5%BD%A2%E5%8C%96%E5%B7%A5%E5%85%B7%E8%BF%9B%E8%A1%8C%E5%8D%95%E4%BD%93%E6%B5%8B%E8%AF%95(1.%E7%8E%AF%E5%A2%83%E6%9E%84%E5%BB%BA)/Xnip2020-08-15_17-56-03.jpg" class=""><p>支持 OS X，但是：作者没有给出具体的构建方法，需要自己尝试，Mac的构建应该和Linux的差不多，所以参考Linux的实施</p><img src="/:2020/08/05/Mac%E4%B8%8B%E4%BD%BF%E7%94%A8%E5%9B%BE%E5%BD%A2%E5%8C%96%E5%B7%A5%E5%85%B7%E8%BF%9B%E8%A1%8C%E5%8D%95%E4%BD%93%E6%B5%8B%E8%AF%95(1.%E7%8E%AF%E5%A2%83%E6%9E%84%E5%BB%BA)/Xnip2020-08-15_17-57-47.jpg" class=""><h3 id="0x02-环境构建"><a href="#0x02-环境构建" class="headerlink" title="0x02 环境构建"></a>0x02 环境构建</h3><p>Gest Runner是使用Qt编写，官方给出是安装Qt5.6，比较懒，Mac下直接使用brew进行安装：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ brew install qt</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ brew cask install qt-creator</span><br></pre></td></tr></table></figure><p>安装后查看一下qt的版本：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ brew info qt</span><br><span class="line">qt: stable 5.15.0 (bottled), HEAD [keg-only]</span><br><span class="line">Cross-platform application and UI framework</span><br><span class="line">https://www.qt.io/</span><br><span class="line">/usr/<span class="built_in">local</span>/Cellar/qt/5.15.0 (10,574 files, 373.6MB)</span><br><span class="line">  Poured from bottle on 2020-08-01 at 23:14:20</span><br><span class="line">From: https://github.com/Homebrew/homebrew-core/blob/HEAD/Formula/qt.rb</span><br></pre></td></tr></table></figure><p>按照官方给出的构建方法开始构建：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> ~/gtest-runner                                         // 进入目录</span><br><span class="line">$ mkdir build                                               // 创建构建目录</span><br><span class="line">$ <span class="built_in">cd</span> build                                                  // 进入到构建目录 </span><br><span class="line">$ cmake -DCMAKE_BUILD_TYPE=Release ..                       // 建立编译关系的MakeFile文件</span><br><span class="line">$ make (or use make -j2 <span class="keyword">if</span> you have a dual-core machine)    // 编译</span><br><span class="line">$ sudo make install                                         // 安装</span><br></pre></td></tr></table></figure><p>在执行cmake的时候发生错误：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">-- QTDIR environment variable not <span class="built_in">set</span>. Be sure to <span class="built_in">set</span> the QTDIR</span><br><span class="line">    cmake cache variable to the Qt root install location</span><br><span class="line">CMake Error at CMakeLists.txt:63 (find_package):</span><br><span class="line">  By not providing <span class="string">&quot;FindQt5Core.cmake&quot;</span> <span class="keyword">in</span> CMAKE_MODULE_PATH this project has</span><br><span class="line">  asked CMake to find a package configuration file provided by <span class="string">&quot;Qt5Core&quot;</span>, but</span><br><span class="line">  CMake did not find one.</span><br><span class="line"></span><br><span class="line">  Could not find a package configuration file provided by <span class="string">&quot;Qt5Core&quot;</span> with any</span><br><span class="line">  of the following names:</span><br><span class="line"></span><br><span class="line">    Qt5CoreConfig.cmake</span><br><span class="line">    qt5core-config.cmake</span><br><span class="line"></span><br><span class="line">  Add the installation prefix of <span class="string">&quot;Qt5Core&quot;</span> to CMAKE_PREFIX_PATH or <span class="built_in">set</span></span><br><span class="line">  <span class="string">&quot;Qt5Core_DIR&quot;</span> to a directory containing one of the above files.  If</span><br><span class="line">  <span class="string">&quot;Qt5Core&quot;</span> provides a separate development package or SDK, be sure it has</span><br><span class="line">  been installed.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-- Configuring incomplete, errors occurred!</span><br><span class="line">See also <span class="string">&quot;/Users/wapeasy/GitHub/gtest-runner/build/CMakeFiles/CMakeOutput.log&quot;</span>.</span><br></pre></td></tr></table></figure><p>出现这个问题是由于Qt的环境变量没有配置，进行下面的临时环境变量的配置：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">export</span> CMAKE_PREFIX_PATH=/usr/<span class="built_in">local</span>/Cellar/qt/5.15.0/lib/cmake:CMAKE_PREFIX_PATH    // 设置Qt的CMake环境变量</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">export</span> QTDIR=/usr/<span class="built_in">local</span>/Cellar/qt/5.15.0/:QTDIR                                     // 设置Qt的环境变量</span><br></pre></td></tr></table></figure><p>最后的编译结果：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[ 95%] Building CXX object CMakeFiles/gtest-runner.dir/qrc_resources.cpp.o</span><br><span class="line">[100%] Linking CXX executable gtest-runner.app/Contents/MacOS/gtest-runner</span><br><span class="line">Copying OS X content gtest-runner.app/Contents/Resources/logo.icns</span><br></pre></td></tr></table></figure><p>哈哈，编译成功，构建成功的app在build目录下：</p><img src="/:2020/08/05/Mac%E4%B8%8B%E4%BD%BF%E7%94%A8%E5%9B%BE%E5%BD%A2%E5%8C%96%E5%B7%A5%E5%85%B7%E8%BF%9B%E8%A1%8C%E5%8D%95%E4%BD%93%E6%B5%8B%E8%AF%95(1.%E7%8E%AF%E5%A2%83%E6%9E%84%E5%BB%BA)/Xnip2020-08-16_22-07-56.jpg" class=""><h3 id="0x03-完活"><a href="#0x03-完活" class="headerlink" title="0x03 完活"></a>0x03 完活</h3><p>直接打开【gtest-runner】，运行效果：</p><img src="/:2020/08/05/Mac%E4%B8%8B%E4%BD%BF%E7%94%A8%E5%9B%BE%E5%BD%A2%E5%8C%96%E5%B7%A5%E5%85%B7%E8%BF%9B%E8%A1%8C%E5%8D%95%E4%BD%93%E6%B5%8B%E8%AF%95(1.%E7%8E%AF%E5%A2%83%E6%9E%84%E5%BB%BA)/Xnip2020-08-16_22-10-29.jpg" class=""><h3 id="0x04-后续会继续整理Mac下的使用方法"><a href="#0x04-后续会继续整理Mac下的使用方法" class="headerlink" title="0x04 后续会继续整理Mac下的使用方法"></a>0x04 后续会继续整理Mac下的使用方法</h3><p>…</p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;0x00-前言&quot;&gt;&lt;a href=&quot;#0x00-前言&quot; class=&quot;headerlink&quot; title=&quot;0x00 前言&quot;&gt;&lt;/a&gt;0x00 前言&lt;/h3&gt;&lt;p&gt;目的在Mac系统下使用图形工具进行C/C++函数的单元测试&lt;br&gt;工具：Google Test&lt;br&gt;GUI工具：Gtest Runner&lt;/p&gt;
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://yoursite.com/:2020/08/02/hello-world/"/>
    <id>http://yoursite.com/:2020/08/02/hello-world/</id>
    <published>2020-08-02T11:54:26.556Z</published>
    <updated>2020-08-02T11:54:26.556Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot;&gt;documentation&lt;/a&gt; for
      
    
    </summary>
    
    
    
  </entry>
  
</feed>
